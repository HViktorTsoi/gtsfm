[{"C:\\Users\\adisi\\Desktop\\React-Three-Fiber\\rtf-intro\\src\\index.js":"1","C:\\Users\\adisi\\Desktop\\React-Three-Fiber\\rtf-intro\\src\\App.js":"2","C:\\Users\\adisi\\Desktop\\React-Three-Fiber\\rtf-intro\\src\\reportWebVitals.js":"3","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\index.js":"4","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\reportWebVitals.js":"5","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\App.js":"6","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\PointMesh.js":"7","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\SquareMesh.js":"8","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\SpriteMesh.js":"9","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\LineMesh.js":"10","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\CoordinateGrid.js":"11","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\RenderFrustum.js":"12","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\OrbitControlsComponent.js":"13","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\ViewFrustum_Ported\\view_frustum.js":"14","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\ViewFrustum_Ported\\se3.js":"15","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\gtsfm_node_list.js":"16","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\gtsfm_edge_list.js":"17","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\DivGraph.js":"18","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\DivNode.js":"19","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\FrontendSummary.js":"20","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\PPDivNode.js":"21","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\OptDivNode.js":"22","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\MVOSummary.js":"23","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\SFMResultDivNode.js":"24","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\PCViewer.js":"25","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\Data_Association_PC.js":"26","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\DADivNode.js":"27"},{"size":500,"mtime":499162500000,"results":"28","hashOfConfig":"29"},{"size":3104,"mtime":1610902653536,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":499162500000,"results":"31","hashOfConfig":"29"},{"size":500,"mtime":499162500000,"results":"32","hashOfConfig":"33"},{"size":362,"mtime":499162500000,"results":"34","hashOfConfig":"33"},{"size":515,"mtime":1615825530962,"results":"35","hashOfConfig":"33"},{"size":336,"mtime":1613329153228,"results":"36","hashOfConfig":"33"},{"size":397,"mtime":1613329960043,"results":"37","hashOfConfig":"33"},{"size":410,"mtime":1613329696194,"results":"38","hashOfConfig":"33"},{"size":317,"mtime":1613330097088,"results":"39","hashOfConfig":"33"},{"size":1698,"mtime":1614280984891,"results":"40","hashOfConfig":"33"},{"size":1125,"mtime":1613416092833,"results":"41","hashOfConfig":"33"},{"size":650,"mtime":1613330781046,"results":"42","hashOfConfig":"33"},{"size":8883,"mtime":1613415801929,"results":"43","hashOfConfig":"33"},{"size":2245,"mtime":1614281009934,"results":"44","hashOfConfig":"33"},{"size":2586,"mtime":1614444482758,"results":"45","hashOfConfig":"33"},{"size":3876,"mtime":1615397088415,"results":"46","hashOfConfig":"33"},{"size":11820,"mtime":1615826931302,"results":"47","hashOfConfig":"33"},{"size":840,"mtime":1615397151620,"results":"48","hashOfConfig":"33"},{"size":1216,"mtime":1615317549025,"results":"49","hashOfConfig":"33"},{"size":856,"mtime":1615218793386,"results":"50","hashOfConfig":"33"},{"size":859,"mtime":1615219180956,"results":"51","hashOfConfig":"33"},{"size":2162,"mtime":1615220693109,"results":"52","hashOfConfig":"33"},{"size":859,"mtime":1615397293013,"results":"53","hashOfConfig":"33"},{"size":7573,"mtime":1615774665512,"results":"54","hashOfConfig":"33"},{"size":2519,"mtime":1615836865911,"results":"55","hashOfConfig":"33"},{"size":859,"mtime":1615826929175,"results":"56","hashOfConfig":"33"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},"1wmx23r",{"filePath":"60","messages":"61","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"59"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"lfpqkh",{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"68"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"68"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"68"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"68"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"99"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"68"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"68"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"C:\\Users\\adisi\\Desktop\\React-Three-Fiber\\rtf-intro\\src\\index.js",[],["124","125"],"C:\\Users\\adisi\\Desktop\\React-Three-Fiber\\rtf-intro\\src\\App.js",["126","127","128"],"import './App.css';\nimport React, {useEffect, useState} from \"react\";\nimport {Canvas} from \"react-three-fiber\";\nimport {OrbitControls, Line, Html} from \"drei\";\n\nconst App = (props) => {\n  const [pointCloud, setPointCloud] = useState([]);\n\n  //Function\n  const getGridLines = () => {\n    var coordPairSet = []\n    //add x grid lines\n    for (var z = -50; z <= 50; z++) {\n      coordPairSet.push([[-50, 0, z], [50, 0, z]]);\n    }\n    //add z grid lines\n    for (var x = -50; x <= 50; x++) {\n      coordPairSet.push([[x, 0, -50], [x, 0, 50]]);\n    }\n\n    var finalLineGridSet = []\n    coordPairSet.map(coordPair => {\n      finalLineGridSet.push(<Line points={coordPair} color=\"black\" position={[0,0,0]} lineWidth={0.1}/>);\n    });\n    return finalLineGridSet;\n  }\n\n  //Component\n  const PointMesh = ({position, size, color, label}) => {\n    return (\n      <mesh position={position}>\n        <sphereBufferGeometry attach='geometry' args={size} />\n        <meshStandardMaterial attach='material' color={color}/>\n\n        <Html scaleFactor={50} position={[1,0.5,0]}>\n          <div class=\"content\">\n            {label}\n          </div>\n        </Html>\n\n      </mesh>\n    )\n  }\n\n  //Component\n  const CoordinateGrid = () => { \n    return (\n      <mesh>\n          <Line \n            points={[[-50,0,0], [50,0,0]]} \n            color=\"red\" \n            position={[0,0,0]}\n            lineWidth={0.3}\n          />\n          <Line \n            points={[[0,-50,0], [0,50,0]]} \n            color=\"green\" \n            position={[0,0,0]}\n            lineWidth={0.3}\n          />\n          <Line \n            points={[[0,0,-50], [0,0,50]]} \n            color=\"blue\" \n            position={[0,0,0]}\n            lineWidth={0.3}\n          />\n\n          {getGridLines()}\n      </mesh>\n    )\n  }\n\n  //Function\n  const readFile = (e) => {\n    e.preventDefault();\n    const reader = new FileReader();\n    reader.readAsText(e.target.files[0])\n    reader.onload = (e) => {\n      const pointString = e.target.result;\n      const arrStringPoints = pointString.split('\\n');\n      var pointArr = [];\n      for (var i = 0; i < arrStringPoints.length; i++) {\n        pointArr.push(JSON.parse(arrStringPoints[i]));\n      }\n\n      var finalPointsJSX = [];\n      pointArr.map(point => {\n        finalPointsJSX.push(<PointMesh  position={point} size={[0.3,16,16]} color='rgb(255, 0, 0)'/>);\n      })\n      setPointCloud(finalPointsJSX);\n    }\n  }\n\n  return (\n    <div className=\"app-container\">\n      <div className=\"upload-container\">\n        <input type=\"file\" name=\"Input Points\" onChange={(e) => readFile(e)}/>\n      </div>\n\n      <Canvas colorManagement camera={{position: [30,30,30], fov: 100}}>\n        <ambientLight intensity={0.5}/>\n        <pointLight position={[0, 0, 20]} intensity={0.5}/> \n        <directionalLight \n          position={[0,10,0]} \n          intensity={1.5} \n          shadow-mapSize-width={1024}\n          shadow-mapSize-height={1024}\n          shadow-camera-far={50}\n        />\n\n        {pointCloud}\n\n        <CoordinateGrid />\n\n        <OrbitControls/>\n      </Canvas>\n    </div>\n  )\n}\n\nexport default App;\n","C:\\Users\\adisi\\Desktop\\React-Three-Fiber\\rtf-intro\\src\\reportWebVitals.js",[],["129","130"],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\index.js",[],["131","132"],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\reportWebVitals.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\App.js",["133","134"],"import React from \"react\";\nimport {Canvas, extend} from \"react-three-fiber\";\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls';\nimport './App.css';\n\nimport DivGraph from './Components/DivGraph'\nimport PCViewer from \"./Components/PCViewer\";\nextend({OrbitControls})\n\nconst App = (props) => {\n  const showGraph = \"divGraph\"; //temporary display value\n\n  if (showGraph == \"divGraph\") {\n    return (\n      <DivGraph/>\n    )\n  } else {\n    return (\n      <PCViewer/>\n    )\n  }\n}\n\nexport default App;","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\PointMesh.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\SquareMesh.js",[],["135","136"],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\SpriteMesh.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\LineMesh.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\CoordinateGrid.js",["137"],"import React from \"react\";\r\nimport {Line, Html} from \"drei\";\r\n\r\n//Function\r\nconst getGridLines = () => {\r\n    var coordPairSet = []\r\n    //add x grid lines\r\n    for (var z = -10; z <= 10; z++) {\r\n      coordPairSet.push([[-10, 0, z], [10, 0, z]]);\r\n    }\r\n    //add z grid lines\r\n    for (var x = -10; x <= 10; x++) {\r\n      coordPairSet.push([[x, 0, -10], [x, 0, 10]]);\r\n    }\r\n\r\n    var finalLineGridSet = []\r\n    coordPairSet.map(coordPair => {\r\n      finalLineGridSet.push(<Line points={coordPair} color=\"black\" position={[0,0,0]} lineWidth={0.1}/>);\r\n    });\r\n    return finalLineGridSet;\r\n}\r\n\r\n//Component\r\nconst CoordinateGrid = () => { \r\n    return (\r\n      <mesh>\r\n          <Line \r\n            points={[[-10,0,0], [10,0,0]]} \r\n            color=\"red\" \r\n            position={[0,0,0]}\r\n            lineWidth={0.3}\r\n          />\r\n          <Html scaleFactor={50} position={[10,0,0]}>\r\n            <div class=\"content\">\r\n              x\r\n            </div>\r\n          </Html>\r\n\r\n          <Line \r\n            points={[[0,-10,0], [0,10,0]]} \r\n            color=\"blue\" \r\n            position={[0,0,0]}\r\n            lineWidth={0.3}\r\n          />\r\n          <Html scaleFactor={50} position={[0,10,0]}>\r\n            <div class=\"content\">\r\n              z\r\n            </div>\r\n          </Html>\r\n\r\n          <Line \r\n            points={[[0,0,-10], [0,0,10]]} \r\n            color=\"green\" \r\n            position={[0,0,0]}\r\n            lineWidth={0.3}\r\n          />\r\n          <Html scaleFactor={50} position={[0,0,10]}>\r\n            <div class=\"content\">\r\n              y\r\n            </div>\r\n          </Html>\r\n\r\n          {getGridLines()}\r\n      </mesh>\r\n    )\r\n}\r\n\r\nexport default CoordinateGrid;","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\RenderFrustum.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\OrbitControlsComponent.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\ViewFrustum_Ported\\view_frustum.js",["138"],"var nj = require('numjs');\r\nvar SE3 = require('./se3.js');\r\n\r\nconst DEFAULT_FRUSTUM_RAY_LENGTH = 0.5;  //meters, arbitrary\r\n\r\nmodule.exports = class ViewFrustum {\r\n    //Generates edges of a 5-face mesh for drawing pinhole camera in 3d\r\n\r\n    constructor(fx, img_w, img_h) {\r\n        /*\r\n            Args:\r\n                fx: focal length in x-direction, assuming square pixels (fx == fy)\r\n                img_w: image width (in pixels)\r\n                img_h: image height (in pixels)\r\n                frustum_ray_len: extent to which extend frustum rays away from optical center\r\n                    (increase length for large-scale scenes to make frustums visible)\r\n        */\r\n       this.fx_ = fx;\r\n       this.img_w_ = img_w;\r\n       this.img_h_ = img_h;\r\n       this.frustum_ray_len_ = DEFAULT_FRUSTUM_RAY_LENGTH;\r\n    }\r\n\r\n    normalize_ray_dirs(ray_dirs) {\r\n        var v0_mag = Math.sqrt(Math.pow(ray_dirs.get(0,0),2) + Math.pow(ray_dirs.get(0,1),2) + Math.pow(ray_dirs.get(0,2),2));\r\n        var v1_mag = Math.sqrt(Math.pow(ray_dirs.get(1,0),2) + Math.pow(ray_dirs.get(1,1),2) + Math.pow(ray_dirs.get(1,2),2));\r\n        var v2_mag = Math.sqrt(Math.pow(ray_dirs.get(2,0),2) + Math.pow(ray_dirs.get(2,1),2) + Math.pow(ray_dirs.get(2,2),2));\r\n        var v3_mag = Math.sqrt(Math.pow(ray_dirs.get(3,0),2) + Math.pow(ray_dirs.get(3,1),2) + Math.pow(ray_dirs.get(3,2),2));\r\n        var v4_mag = Math.sqrt(Math.pow(ray_dirs.get(4,0),2) + Math.pow(ray_dirs.get(4,1),2) + Math.pow(ray_dirs.get(4,2),2));\r\n\r\n        ray_dirs.set(0, 0, (ray_dirs.get(0,0) / v0_mag));\r\n        ray_dirs.set(0, 1, (ray_dirs.get(0,1) / v0_mag));\r\n        ray_dirs.set(0, 2, (ray_dirs.get(0,2) / v0_mag));\r\n        ray_dirs.set(1, 0, (ray_dirs.get(1,0) / v1_mag));\r\n        ray_dirs.set(1, 1, (ray_dirs.get(1,1) / v1_mag));\r\n        ray_dirs.set(1, 2, (ray_dirs.get(1,2) / v1_mag));\r\n        ray_dirs.set(2, 0, (ray_dirs.get(2,0) / v2_mag));\r\n        ray_dirs.set(2, 1, (ray_dirs.get(2,1) / v2_mag));\r\n        ray_dirs.set(2, 2, (ray_dirs.get(2,2) / v2_mag));\r\n        ray_dirs.set(3, 0, (ray_dirs.get(3,0) / v3_mag));\r\n        ray_dirs.set(3, 1, (ray_dirs.get(3,1) / v3_mag));\r\n        ray_dirs.set(3, 2, (ray_dirs.get(3,2) / v3_mag));\r\n        ray_dirs.set(4, 0, (ray_dirs.get(4,0) / v4_mag));\r\n        ray_dirs.set(4, 1, (ray_dirs.get(4,1) / v4_mag));\r\n        ray_dirs.set(4, 2, (ray_dirs.get(4,2) / v4_mag));\r\n\r\n        return ray_dirs;\r\n    }\r\n\r\n    compute_pixel_ray_directions_vectorized(uv, fx, img_w, img_h) {\r\n        /*\r\n            Given (u,v) coordinates and intrinsics, generate pixels rays in cam. coord frame\r\n            Assume +z points out of the camera, +y is downwards, and +x is across the imager.\r\n            Args:\r\n                uv: array of shape (N,2) with (u,v) coordinates\r\n                fx: focal length in x-direction, assuming square pixels (fx == fy)\r\n                img_w: image width (in pixels)\r\n                img_h: image height (in pixels)\r\n            Returns:\r\n                ray_dirs: Array of shape (N,3) with ray directions in camera frame\r\n        */\r\n\r\n        //assuming principal point at center of images now\r\n        var px = img_w / 2;\r\n        var py = img_h / 2;\r\n\r\n        var num_rays = uv.shape[0];\r\n\r\n        //broadcase (1,2) across (N,2) uv array\r\n        var centers_broadcasted = nj.array([\r\n            [px,py],\r\n            [px,py],\r\n            [px,py],\r\n            [px,py],\r\n            [px,py]\r\n        ]);\r\n        var center_offsets = uv.subtract(centers_broadcasted);\r\n        var ray_dirs = nj.zeros([num_rays, 3]);\r\n\r\n        ray_dirs.set(0,0, center_offsets.get(0,0));\r\n        ray_dirs.set(0,1, center_offsets.get(0,1));\r\n        ray_dirs.set(1,0, center_offsets.get(1,0));\r\n        ray_dirs.set(1,1, center_offsets.get(1,1));\r\n        ray_dirs.set(2,0, center_offsets.get(2,0));\r\n        ray_dirs.set(2,1, center_offsets.get(2,1));\r\n        ray_dirs.set(3,0, center_offsets.get(3,0));\r\n        ray_dirs.set(3,1, center_offsets.get(3,1));\r\n        ray_dirs.set(4,0, center_offsets.get(4,0));\r\n        ray_dirs.set(4,1, center_offsets.get(4,1));\r\n        ray_dirs.set(0,2, this.fx_);\r\n        ray_dirs.set(1,2, this.fx_);\r\n        ray_dirs.set(2,2, this.fx_);\r\n        ray_dirs.set(3,2, this.fx_);\r\n        ray_dirs.set(4,2, this.fx_);\r\n\r\n        ray_dirs = this.normalize_ray_dirs(ray_dirs); //TODO\r\n        return ray_dirs\r\n    }\r\n\r\n    get_frustum_vertices_camfr() {\r\n        /*\r\n            Obtain 3d positions of all 5 frustum vertices in the camera frame\r\n          (x,y,z)               (x,y,z)                (x,y,z)              (x,y,z)\r\n              \\\\=================//                      \\\\                   //\r\n               \\\\               //                        \\\\ 1-------------2 //\r\n        (-w/2,-h/2,fx)       (w/2,-h/2,fx)                 \\\\| IMAGE PLANE |//\r\n                 1-------------2                             |             |/\r\n                 |\\\\         //| IMAGE PLANE  (-w/2, h/2,fx) 4-------------3 (w/2, h/2,fx)\r\n                 | \\\\       // | IMAGE PLANE                  \\\\         //\r\n                 4--\\\\-----//--3                               \\\\       //\r\n                     \\\\   //                                    \\\\     //\r\n                      \\\\ //                                      \\\\   //\r\n                        O PINHOLE                                 \\\\ //\r\n                                                                    O PINHOLE\r\n        */\r\n\r\n        var uv = nj.array([\r\n            [Math.floor(this.img_w_ / 2), Math.floor(this.img_h_ / 2)],  //v0 = optical center\r\n            [0, 0],                              //v1 = top-left\r\n            [this.img_w_ - 1, 0],                //v2 = top-right\r\n            [this.img_w_ - 1, this.img_h_ - 1],  //v3 = bottom-right\r\n            [0, this.img_h_ - 1],                //v4 = bottom-left\r\n        ]);\r\n        var ray_dirs = this.compute_pixel_ray_directions_vectorized(uv, this.fx, this.img_w_, this.img_h_);\r\n        // var v0 = ray_dirs[0] * 0;\r\n        // var v1 = ray_dirs[1] * this.frustum_ray_len_;\r\n        // var v2 = ray_dirs[2] * this.frustum_ray_len_;\r\n        // var v3 = ray_dirs[3] * this.frustum_ray_len_;\r\n        // var v4 = ray_dirs[4] * this.frustum_ray_len_;\r\n        // return [v0, v1, v2, v3, v4];\r\n        var scaled_ray_dirs = this.calculate_scaled_ray_dirs(ray_dirs, this.frustum_ray_len_);\r\n        return scaled_ray_dirs\r\n    }\r\n\r\n    get_mesh_vertices_worldframe(wTc) {\r\n        /*Return 8 edges defining the frustum mesh, in the world/global frame.\r\n            Args:\r\n                wTc: camera pose in world frame\r\n            Returns:\r\n                edges_worldfr: array of shape (8,3,2) representing 8 polylines in world frame\r\n        */\r\n       var vList = this.get_frustum_vertices_camfr();\r\n       var v0 = vList[0].reshape(1,3);\r\n       var v1 = vList[1].reshape(1,3);\r\n       var v2 = vList[2].reshape(1,3);\r\n       var v3 = vList[3].reshape(1,3);\r\n       var v4 = vList[4].reshape(1,3);\r\n\r\n       var v0_worldfr = wTc.transform_point_cloud(v0);\r\n       var v1_worldfr = wTc.transform_point_cloud(v1);\r\n       var v2_worldfr = wTc.transform_point_cloud(v2);\r\n       var v3_worldfr = wTc.transform_point_cloud(v3);\r\n       var v4_worldfr = wTc.transform_point_cloud(v4);\r\n\r\n       return [v0_worldfr, v1_worldfr, v2_worldfr, v3_worldfr, v4_worldfr];\r\n    }\r\n\r\n    calculate_scaled_ray_dirs(ray_dirs, frustum_ray_len) {\r\n        var v0_scaled = nj.array([ray_dirs.get(0,0) * 0, \r\n                                ray_dirs.get(0,1) * 0, \r\n                                ray_dirs.get(0,2) * 0]);\r\n        var v1_scaled = nj.array([ray_dirs.get(1,0) * frustum_ray_len,\r\n                                ray_dirs.get(1,1) * frustum_ray_len,\r\n                                ray_dirs.get(1,2) * frustum_ray_len]);\r\n        var v2_scaled = nj.array([ray_dirs.get(2,0) * frustum_ray_len,\r\n                                ray_dirs.get(2,1) * frustum_ray_len,\r\n                                ray_dirs.get(2,2) * frustum_ray_len]);\r\n        var v3_scaled = nj.array([ray_dirs.get(3,0) * frustum_ray_len,\r\n                                ray_dirs.get(3,1) * frustum_ray_len,\r\n                                ray_dirs.get(3,2) * frustum_ray_len]);\r\n        var v4_scaled = nj.array([ray_dirs.get(4,0) * frustum_ray_len,\r\n                                ray_dirs.get(4,1) * frustum_ray_len,\r\n                                ray_dirs.get(4,2) * frustum_ray_len]);\r\n        return [v0_scaled, v1_scaled, v2_scaled, v3_scaled, v4_scaled];\r\n    }\r\n}\r\n\r\n\r\n\r\n// var rotation = nj.array([\r\n//     [4,3,2],\r\n//     [10,9,8],\r\n//     [6,5,4]\r\n// ]);\r\n// var translation = nj.array([99,98,97]);\r\n// sampleVF = new ViewFrustum(10, 200, 100);\r\n// wTc = new SE3(rotation, translation);\r\n// output = sampleVF.get_mesh_vertices_worldframe(wTc);\r\n// console.log(output[4]);","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\ViewFrustum_Ported\\se3.js",["139","140"],"var nj = require('numjs');\r\n\r\nmodule.exports = class SE3 {\r\n    //An SE3 class allows point cloud rotation and translation operations.\r\n\r\n    constructor(rotation, translation) {\r\n        /*\r\n            Initialize an SE3 instance with its rotation and translation matrices\r\n\r\n            Args:\r\n                rotation: Array of shape (3,3)\r\n                translation: Array of shape (3,)\r\n        */\r\n        if (rotation.shape[0] !== 3 || rotation.shape[1] !== 3) throw 'Invalid Rotation Matrix';\r\n        if (translation.shape[0] !== [3]) throw 'Invalid Translation Matrix';\r\n        this.rotation = rotation;\r\n        this.translation = translation;\r\n\r\n        this.transform_matrix = nj.identity(4);\r\n        this.transform_matrix.set(0,0,this.rotation.get(0,0));\r\n        this.transform_matrix.set(0,1,this.rotation.get(0,1));\r\n        this.transform_matrix.set(0,2,this.rotation.get(0,2));\r\n        this.transform_matrix.set(1,0,this.rotation.get(1,0));\r\n        this.transform_matrix.set(1,1,this.rotation.get(1,1));\r\n        this.transform_matrix.set(1,2,this.rotation.get(1,2));\r\n        this.transform_matrix.set(2,0,this.rotation.get(2,0));\r\n        this.transform_matrix.set(2,1,this.rotation.get(2,1));\r\n        this.transform_matrix.set(2,2,this.rotation.get(2,2));\r\n        this.transform_matrix.set(0,3,this.translation.get(0));\r\n        this.transform_matrix.set(1,3,this.translation.get(1));\r\n        this.transform_matrix.set(2,3,this.translation.get(2));\r\n    }\r\n\r\n    transform_point_cloud(point_cloud) {\r\n        /*\r\n            Apply the SE3 transformation to the point cloud.\r\n\r\n            Args:\r\n                point_cloud: Array of shape (N,3)\r\n            Returns:\r\n                trasnformed_point_cloud: Array of shape (N,3)\r\n        */\r\n        var num_pts = point_cloud.shape[0];\r\n        var ones = nj.ones([num_pts, 1]);\r\n        var homogeneous_pts = nj.concatenate(point_cloud, ones);\r\n\r\n        var transformed_point_cloud = homogeneous_pts.dot(this.transform_matrix.T);\r\n\r\n        var sliced = nj.array([[transformed_point_cloud.get(0,0),\r\n                            transformed_point_cloud.get(0,1),\r\n                            transformed_point_cloud.get(0,2)]])\r\n        return sliced;\r\n    }\r\n}","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\gtsfm_node_list.js",["141"],"const gtsfm_node_set = ['absolute Rs', \r\n                        'Descriptors', \r\n                        'DigiCamDB', \r\n                        'E matrix', \r\n                        'relative Rs (2): i2_R_i1', \r\n                        'Images', \r\n                        'Post-Processor', \r\n                        'relative Rs: i2_r_i1', \r\n                        'LargestConnected Component Extractor', \r\n                        'Image Pair Indices (i1,i2)', \r\n                        'relative Ts: i2_t_i1', \r\n                        'Scene Directory', \r\n                        'absolute ts(2)', \r\n                        'Dense Point Cloud', \r\n                        'Verified Correspondence Indices', \r\n                        'Intrinsics', \r\n                        'File Writer', \r\n                        'MVSNet', \r\n                        'Triangulation', \r\n                        'Optimizer', \r\n                        'Keypoint Describer', \r\n                        'SfMData', \r\n                        'absolute Ts', \r\n                        'Output Directory', \r\n                        'Scene Image Directories', \r\n                        'Detector', \r\n                        'Aggregate', \r\n                        'Bundler Calibrator', \r\n                        'Optimized Intrinsics', \r\n                        'Keypoints', \r\n                        'absolute Rs(2)', \r\n                        'Sparse Point Cloud', \r\n                        'Shonan', \r\n                        'Zipped Results for All Scenes', \r\n                        'Verifier', \r\n                        '1d-SfM', \r\n                        'Bundler Pinhole Cameras', \r\n                        'Data Loader + Filter Invalid Edges', \r\n                        'Scene Looper', \r\n                        'Putative Matcher', \r\n                        'Data Association w/ Track Filtering', \r\n                        'SFMResult as files', \r\n                        'Dense Mesh Reconstruction', \r\n                        'Putative Correspondence Indices', \r\n                        'relative Ts (2): i2_t_i1', \r\n                        'SFMResult', \r\n                        'Image i'];\r\n\r\nvar node_set_formatted = [];\r\nfor (var i = 0; i < gtsfm_node_set.length; i++) {\r\n    node_set_formatted.push({id: gtsfm_node_set[i]});\r\n}\r\n\r\n//temporary\r\nvar node_sample = [{\r\n    id: 'Scene Image Directories',\r\n    x: 100,\r\n    y: 100\r\n}, {\r\n    id: 'Scene Looper',\r\n    x: 500,\r\n    y: 200\r\n}, {\r\n    id: 'Scene Directory',\r\n    x: 900,\r\n    y:300\r\n}]\r\n//DELETE later\r\n\r\nmodule.exports = node_set_formatted;",["142","143"],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\gtsfm_edge_list.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\DivGraph.js",["144"],"import React, {useEffect, useState} from \"react\";\r\nimport Xarrow from \"react-xarrows\";\r\n\r\nimport EdgeList from './gtsfm_edge_list.js';\r\nimport DivNode from './DivNode';\r\nimport PPDivNode from './PPDivNode';\r\nimport OptDivNode from './OptDivNode';\r\nimport DADivNode from './DADivNode';\r\nimport SFMResultDivNode from './SFMResultDivNode';\r\nimport FrontendSummary from './FrontendSummary';\r\nimport MVOSummary from './MVOSummary';\r\nimport Data_Association_PC from './Data_Association_PC';\r\nimport '../stylesheets/DivGraph.css'\r\n\r\n\r\nimport frontend_summary_json from '.././result_metrics/frontend_summary.json';\r\nimport multiview_optimizer_json from '.././result_metrics/multiview_optimizer_metrics.json';\r\nimport data_association_json from '.././result_metrics/data_association_metrics.json';\r\n\r\nconst DivGraph = (props) => {\r\n    const [arrowList, setArrowList] = useState([]);\r\n    const leftShift = 0;\r\n    const topShift = 0;\r\n\r\n    const [showFS, setShowFS] = useState(false);\r\n    const [fs_json, setFS_JSON] = useState(null);\r\n    const [showMVO, setShowMVO] = useState(false);\r\n    const [mvo_json, setMVO_JSON] = useState(null);\r\n    const [da_json, setDA_JSON] = useState(null);\r\n    const [showDA_PC, setShowDA_PC] = useState(null);\r\n\r\n    //render all edges and output files in graph\r\n    useEffect(() => {\r\n        var rawEdges = EdgeList\r\n        var xArrows_formatted = [];\r\n\r\n        for (var i = 0; i < rawEdges.length; i++) {\r\n            const pair = rawEdges[i];\r\n            xArrows_formatted.push(\r\n                <Xarrow\r\n                    start={pair[0]}\r\n                    end={pair[1]}\r\n                    color='gray'\r\n                    strokeWidth='1.5'\r\n                    path='straight'\r\n                />)\r\n        }\r\n\r\n        setArrowList(xArrows_formatted);\r\n        setFS_JSON(frontend_summary_json);\r\n        setMVO_JSON(multiview_optimizer_json);\r\n        setDA_JSON(data_association_json.points_3d);\r\n    }, [])\r\n\r\n    function formatPercent(shift, percent) {\r\n        const str_percent = `${shift+percent}%`;\r\n        return str_percent\r\n    }\r\n\r\n    //Function\r\n    const toggleFrontEndSummaryDisplay = (bool) => {setShowFS(bool)};\r\n    const toggleMVOMetrics = (bool) => {setShowMVO(bool)};\r\n    const toggleDataAssoc_PointCloud = (bool) => {setShowDA_PC(bool)};\r\n\r\n    return (\r\n        <div className=\"div_graph_container\">\r\n            <div className=\"navbar\">\r\n                <h2 className=\"gtsfm_header\">GTSFM Pipeline Graph</h2>\r\n            </div>\r\n\r\n            {showFS && <FrontendSummary json={fs_json} toggleFS={toggleFrontEndSummaryDisplay}/>}\r\n            {showMVO && <MVOSummary json={mvo_json} toggleMVO={toggleMVOMetrics}/>}\r\n            {showDA_PC && <Data_Association_PC json={da_json} toggleDA_PC={toggleDataAssoc_PointCloud}/>}\r\n\r\n            <div className=\"gtsfm_graph\">\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 0)} leftOffset={formatPercent(leftShift, 0)} text={'Scene Image Directories'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 15)} leftOffset={formatPercent(leftShift, 0)} text={'Scene Looper'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 15)} leftOffset={formatPercent(leftShift, 10)} text={'Scene Directory'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 8)} leftOffset={formatPercent(leftShift, 10.5)} text={'DigiCamDB'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 5)} leftOffset={formatPercent(leftShift, 20)} text={'Data Loader + Filter Invalid Edges'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 12.5)} leftOffset={formatPercent(leftShift, 28)} text={'Image i'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 20)} leftOffset={formatPercent(leftShift, 30)} text={'Detector'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 20)} leftOffset={formatPercent(leftShift, 35)} text={'Keypoints'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 15)} leftOffset={formatPercent(leftShift, 40)} text={'Keypoint Describer'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 20)} leftOffset={formatPercent(leftShift, 46)} text={'Descriptors'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 9)} leftOffset={formatPercent(leftShift, 45)} text={'Intrinsics'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 20)} leftOffset={formatPercent(leftShift, 53)} text={'Putative Matcher'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 5)} leftOffset={formatPercent(leftShift, 54)} text={'Image Pair Indices (i1,i2)'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 15)} leftOffset={formatPercent(leftShift, 60)} text={'Putative Correspondence Indices'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 8)} leftOffset={formatPercent(leftShift, 69)} text={'Verifier'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 8)} leftOffset={formatPercent(leftShift, 75)} text={'E matrix'}/>\r\n                <PPDivNode json={fs_json} toggleFS={toggleFrontEndSummaryDisplay} textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 8)} leftOffset={formatPercent(leftShift, 84)} text={'Post-Processor'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 21)} leftOffset={formatPercent(leftShift, 72)} text={'Verified Correspondence Indices'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 21)} leftOffset={formatPercent(leftShift, 79)} text={'relative Rs: i2_r_i1'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 21)} leftOffset={formatPercent(leftShift, 87)} text={'relative Ts: i2_t_i1'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 70)} leftOffset={formatPercent(leftShift, 10)} text={'Images'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 38)} leftOffset={formatPercent(leftShift, 8)} text={'Output Directory'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 45)} leftOffset={formatPercent(leftShift, 9)} text={'SFMResult as files'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 43)} leftOffset={formatPercent(leftShift, 19)} text={'File Writer'}/>\r\n                <OptDivNode json={mvo_json} toggleMVO={toggleMVOMetrics} textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 43)} leftOffset={formatPercent(leftShift, 28)} text={'Optimizer'}/>\r\n                <SFMResultDivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 53)} leftOffset={formatPercent(leftShift, 25)} text={'SFMResult (including Sparse Point Cloud, Optimized Intrinsics, absolute Rs, absolute Ts)'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 83)} leftOffset={formatPercent(leftShift, 32)} text={'MVSNet'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 83)} leftOffset={formatPercent(leftShift, 25)} text={'Dense Point Cloud'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 83)} leftOffset={formatPercent(leftShift, 17)} text={'Triangulation'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 83)} leftOffset={formatPercent(leftShift, 10)} text={'Dense Mesh Reconstruction'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 83)} leftOffset={formatPercent(leftShift, 1)} text={'Aggregate'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 63)} leftOffset={formatPercent(leftShift, 1)} text={'Zipped Results for All Scenes'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 40)} leftOffset={formatPercent(leftShift, 34)} text={'SfMData'}/>\r\n                <DADivNode json={da_json} toggleDA_PC={toggleDataAssoc_PointCloud} textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 40)} leftOffset={formatPercent(leftShift, 42)} text={'Data Association w/ Track Filtering'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 53)} leftOffset={formatPercent(leftShift, 45)} text={'Bundler Pinhole Cameras'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 53)} leftOffset={formatPercent(leftShift, 53)} text={'Bundler Calibrator'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 43)} leftOffset={formatPercent(leftShift, 60)} text={'absolute Ts'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 43)} leftOffset={formatPercent(leftShift, 68)} text={'1d-SfM'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 43)} leftOffset={formatPercent(leftShift, 76)} text={'relative Ts (2): i2_t_i1'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 43)} leftOffset={formatPercent(leftShift, 86)} text={'Largest Connected Component Extractor'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 63)} leftOffset={formatPercent(leftShift, 65)} text={'absolute Rs'}/>\r\n                <DivNode textColor={'white'} backgroundColor={'#2255e0'} topOffset={formatPercent(topShift, 65)} leftOffset={formatPercent(leftShift, 76)} text={'Shonan'}/>\r\n                <DivNode textColor={'black'} backgroundColor={'#dfe8e6'} topOffset={formatPercent(topShift, 65)} leftOffset={formatPercent(leftShift, 87)} text={'relative Rs (2): i2_R_i1'}/>\r\n        \r\n                {arrowList}\r\n                <div className=\"scene_optimizer_plate\">\r\n                    <p style={{color: 'red', fontWeight: 'bold'}}>Scene Optimizer Scenes</p>\r\n                </div>\r\n                <div className=\"feature_extractor_plate\">\r\n                    <p style={{color: 'red', fontWeight: 'bold'}}>Feature Extractor Images</p>\r\n                </div>\r\n                <div className=\"two_view_estimator_plate\">\r\n                    <p style={{color: 'red', fontWeight: 'bold'}}>TwoViewEstimator</p>\r\n                </div>\r\n                <div className=\"multiview_optimizer_plate\">\r\n                    <p style={{color: 'red', fontWeight: 'bold'}}>MultiViewEstimator</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DivGraph;","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\DivNode.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\FrontendSummary.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\PPDivNode.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\OptDivNode.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\MVOSummary.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\SFMResultDivNode.js",[],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\PCViewer.js",["145","146","147"],"import React, {useEffect, useState, useRef} from \"react\";\r\nimport {Canvas, extend} from \"react-three-fiber\";\r\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls';\r\nimport '.././stylesheets/PCViewer.css'\r\n\r\nimport SpriteMesh from './SpriteMesh';\r\nimport CoordinateGrid from './CoordinateGrid';\r\nimport RenderFrustum from './RenderFrustum';\r\nimport OrbitControlsComponent from './OrbitControlsComponent';\r\n\r\nvar nj = require('numjs');\r\nvar Quaternion = require('quaternion');\r\nvar ViewFrustum = require('.././ViewFrustum_Ported/view_frustum.js');\r\nvar SE3 = require('.././ViewFrustum_Ported/se3.js');\r\n\r\nextend({OrbitControls})\r\n\r\nconst PCViewer = (props) => {\r\n    const [rawFileString, setRawFileString] = useState(\"\");\r\n    const [rawIntrinsicString, setRawIntrinsicString] = useState(\"\");\r\n    const [rawExtrinsicString, setRawExtrinsicString] = useState(\"\");\r\n    const [pointCloud, setPointCloud] = useState([]);\r\n    const [frustums, setFrustums] = useState([]);\r\n    const [numCams, setNumCams] = useState(0);\r\n\r\n    //Function\r\n    const readPointsFile = (e) => {\r\n        e.preventDefault();\r\n        const reader = new FileReader();\r\n        reader.readAsText(e.target.files[0])\r\n        reader.onload = (e) => {\r\n        const fileString = e.target.result;\r\n        setRawFileString(fileString);\r\n        }\r\n    }\r\n\r\n    //Function\r\n    const readIntrinsicsFile = (e) => {\r\n        e.preventDefault();\r\n        const reader = new FileReader();\r\n        reader.readAsText(e.target.files[0]);\r\n        reader.onload = (e) => {\r\n        const fileString = e.target.result;\r\n        setRawIntrinsicString(fileString);\r\n        }\r\n    }\r\n\r\n    //Function\r\n    const readExtrinsicsFile = (e) => {\r\n        e.preventDefault();\r\n        const reader = new FileReader();\r\n        reader.readAsText(e.target.files[0]);\r\n        reader.onload = (e) => {\r\n        const fileString = e.target.result;\r\n        setRawExtrinsicString(fileString);\r\n        }\r\n    }\r\n\r\n    //Function\r\n    const visualize_camera_frustums = () => {\r\n        //load intrinsics file\r\n        const startPointIndex = rawIntrinsicString.indexOf(\"# Number of cameras:\");\r\n        const condensedString = rawIntrinsicString.substring(startPointIndex);\r\n        var in_cameraList = condensedString.split('\\n');\r\n        in_cameraList.shift();\r\n\r\n        //load extriniscs file\r\n        var ex_cameraList = rawExtrinsicString.split('\\n');\r\n        ex_cameraList = ex_cameraList.slice(4);\r\n        ex_cameraList = ex_cameraList.filter((value, index) => (index % 2 == 0));\r\n\r\n        var finalFrustumsJSX = [];\r\n        // combine intrinsics + extrinsics to render frustums\r\n        for (var i = 0; i < numCams; i++) {\r\n        var inCamArray = in_cameraList[i].split(\" \");\r\n        var exCamArray = ex_cameraList[i].split(\" \");\r\n\r\n        //IMPORTANT VARIABLES\r\n        var fx, img_w, img_h, qw, qx, qy, qz, tx, ty, tz;\r\n\r\n        if (inCamArray[0] !== exCamArray[0]) {\r\n            alert(\"Error: Cam IDs in Intrinsic and Extrinsic Files Don't Match.\");\r\n            break;\r\n        }\r\n\r\n        inCamArray = inCamArray.slice(2);\r\n        inCamArray = inCamArray.map(Number);\r\n        exCamArray = exCamArray.map(Number);\r\n\r\n        img_w = inCamArray[0];\r\n        img_h = inCamArray[1];\r\n        fx = inCamArray[2];\r\n        qw = exCamArray[1];\r\n        qx = exCamArray[2];\r\n        qy = exCamArray[3];\r\n        qz = exCamArray[4];\r\n        tx = exCamArray[5];\r\n        ty = exCamArray[6];\r\n        tz = exCamArray[7];\r\n\r\n        //frustum + se3 creating and rendering\r\n        var frustumObj = new ViewFrustum(fx, img_w, img_h);\r\n        var q = new Quaternion(qw, qx, qy, qz) //w,x,y,z\r\n        var rotation_matrix = q.toMatrix(true);\r\n        var rotation = nj.array(rotation_matrix);\r\n        var translation = nj.array([tx, ty, tz]);\r\n        var wTc = new SE3(rotation, translation);\r\n        var verts_worldfr = frustumObj.get_mesh_vertices_worldframe(wTc);\r\n        \r\n        finalFrustumsJSX.push(<RenderFrustum v0={[verts_worldfr[0].get(0,0),verts_worldfr[0].get(0,1),verts_worldfr[0].get(0,2)]} \r\n            v1={[verts_worldfr[1].get(0,0),verts_worldfr[1].get(0,1),verts_worldfr[1].get(0,2)]} \r\n            v2={[verts_worldfr[2].get(0,0),verts_worldfr[2].get(0,1),verts_worldfr[2].get(0,2)]} \r\n            v3={[verts_worldfr[3].get(0,0),verts_worldfr[3].get(0,1),verts_worldfr[3].get(0,2)]} \r\n            v4={[verts_worldfr[4].get(0,0),verts_worldfr[4].get(0,1),verts_worldfr[4].get(0,2)]}\r\n            width={0.5}/>);\r\n        }\r\n        setFrustums(finalFrustumsJSX);\r\n    }\r\n    \r\n    //Function\r\n    const visualize_3D_Points_File = () => {\r\n        var arrStringPoints = rawFileString.split('\\n');\r\n        \r\n        var finalPointsJSX = [];\r\n        const scale = 1;\r\n        for (var i = 0; i < arrStringPoints.length; i += 1) {\r\n        var pointArr = arrStringPoints[i].split(\" \").map(Number);\r\n\r\n        //swap Y and Z to convert file's Z coords into RTF's Y coords\r\n        finalPointsJSX.push(<SpriteMesh  position={[scale*pointArr[1], scale*pointArr[3], scale*pointArr[2]]}  \r\n            widthArgs={[0.1,0.1]} \r\n            color={`rgb(${pointArr[4]}, ${pointArr[5]}, ${pointArr[6]})`} />);\r\n        }\r\n        setPointCloud(finalPointsJSX);\r\n    }\r\n\r\n    return (\r\n        <div className=\"app-container\">\r\n            <div className=\"upload-container\">\r\n  \r\n            <div className=\"pointcloud-upload-container\">\r\n                <p className=\"ply-instructions\">Point Cloud Upload</p>\r\n                <input type=\"file\" name=\"ply-file-reader\" onChange={(e) => readPointsFile(e)}/>\r\n                <button className=\"file-submit-btn\" onClick={visualize_3D_Points_File}>Visualize Point Cloud</button>\r\n            </div>\r\n  \r\n            <div className=\"frustum-upload-container\">\r\n                <p className=\"ply-instructions\">Frustum Upload</p>\r\n    \r\n                <div style={{display:'flex', flexDirection: 'row', alignItems: 'center'}}>\r\n                    <p style={{marginRight: '5px', fontSize: '90%'}}>Intrinsics</p>\r\n                    <input type=\"file\" onChange={(e) => readIntrinsicsFile(e)}/>\r\n                </div>\r\n                \r\n                <div style={{display:'flex', flexDirection: 'row', alignItems: 'center'}}>\r\n                    <p style={{marginRight: '5px', fontSize: '90%'}}>Extrinsics</p>\r\n                    <input type=\"file\" onChange={(e) => readExtrinsicsFile(e)}/>\r\n                </div>\r\n    \r\n                <div className=\"num-cams-container\">\r\n                    <p style={{marginRight: '5px'}}>No. of Cameras:</p>\r\n                    <input style={{height: '20px', width: '60px'}} type=\"number\" value={numCams} onChange={(e) => setNumCams(e.target.value)}/>\r\n                </div>\r\n    \r\n                <button className=\"frustums-submit-btn\" onClick={visualize_camera_frustums}>\r\n                    Visualize Camera Frustums\r\n                </button>\r\n            </div>\r\n        </div>\r\n  \r\n        <Canvas colorManagement camera={{ fov: 30, position: [50, 50, 50]}}>\r\n          <ambientLight intensity={0.5}/>\r\n          <pointLight position={[0, 0, 20]} intensity={0.5}/> \r\n          <directionalLight \r\n            position={[0,10,0]} \r\n            intensity={1.5} \r\n            shadow-mapSize-width={1024}\r\n            shadow-mapSize-height={1024}\r\n            shadow-camera-far={50}\r\n          />\r\n  \r\n          {pointCloud}\r\n          {frustums}\r\n          <CoordinateGrid />\r\n          <OrbitControlsComponent />\r\n        </Canvas>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PCViewer;","C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\Data_Association_PC.js",["148","149","150"],"C:\\Users\\adisi\\Desktop\\Georgia Tech\\Spring 2021\\SfM Research\\gtsfm\\rtf_vis_tool\\src\\Components\\DADivNode.js",[],{"ruleId":"151","replacedBy":"152"},{"ruleId":"153","replacedBy":"154"},{"ruleId":"155","severity":1,"message":"156","line":2,"column":16,"nodeType":"157","messageId":"158","endLine":2,"endColumn":25},{"ruleId":"159","severity":1,"message":"160","line":22,"column":32,"nodeType":"161","messageId":"162","endLine":22,"endColumn":34},{"ruleId":"159","severity":1,"message":"160","line":87,"column":26,"nodeType":"161","messageId":"162","endLine":87,"endColumn":28},{"ruleId":"151","replacedBy":"163"},{"ruleId":"153","replacedBy":"164"},{"ruleId":"151","replacedBy":"165"},{"ruleId":"153","replacedBy":"166"},{"ruleId":"155","severity":1,"message":"167","line":2,"column":9,"nodeType":"157","messageId":"158","endLine":2,"endColumn":15},{"ruleId":"168","severity":1,"message":"169","line":13,"column":17,"nodeType":"170","messageId":"171","endLine":13,"endColumn":19},{"ruleId":"151","replacedBy":"172"},{"ruleId":"153","replacedBy":"173"},{"ruleId":"159","severity":1,"message":"160","line":17,"column":32,"nodeType":"161","messageId":"162","endLine":17,"endColumn":34},{"ruleId":"155","severity":1,"message":"174","line":2,"column":5,"nodeType":"157","messageId":"158","endLine":2,"endColumn":8},{"ruleId":"175","severity":1,"message":"176","line":14,"column":65,"nodeType":"177","messageId":"178","endLine":14,"endColumn":97},{"ruleId":"175","severity":1,"message":"176","line":15,"column":43,"nodeType":"177","messageId":"178","endLine":15,"endColumn":78},{"ruleId":"155","severity":1,"message":"179","line":55,"column":5,"nodeType":"157","messageId":"158","endLine":55,"endColumn":16},{"ruleId":"151","replacedBy":"180"},{"ruleId":"153","replacedBy":"181"},{"ruleId":"182","severity":1,"message":"183","line":73,"column":27,"nodeType":"184","endLine":73,"endColumn":105},{"ruleId":"155","severity":1,"message":"156","line":1,"column":16,"nodeType":"157","messageId":"158","endLine":1,"endColumn":25},{"ruleId":"155","severity":1,"message":"185","line":1,"column":37,"nodeType":"157","messageId":"158","endLine":1,"endColumn":43},{"ruleId":"168","severity":1,"message":"169","line":70,"column":75,"nodeType":"170","messageId":"171","endLine":70,"endColumn":77},{"ruleId":"155","severity":1,"message":"185","line":1,"column":37,"nodeType":"157","messageId":"158","endLine":1,"endColumn":43},{"ruleId":"155","severity":1,"message":"186","line":6,"column":8,"nodeType":"157","messageId":"158","endLine":6,"endColumn":18},{"ruleId":"187","severity":1,"message":"188","line":39,"column":8,"nodeType":"189","endLine":39,"endColumn":10,"suggestions":"190"},"no-native-reassign",["191"],"no-negated-in-lhs",["192"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside",["191"],["192"],["191"],["192"],"'Canvas' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["191"],["192"],"'SE3' is assigned a value but never used.","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'node_sample' is assigned a value but never used.",["191"],["192"],"react/jsx-pascal-case","Imported JSX component Data_Association_PC must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","'useRef' is defined but never used.","'SpriteMesh' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.json'. Either include it or remove the dependency array.","ArrayExpression",["193"],"no-global-assign","no-unsafe-negation",{"desc":"194","fix":"195"},"Update the dependencies array to be: [props.json]",{"range":"196","text":"197"},[1443,1445],"[props.json]"]